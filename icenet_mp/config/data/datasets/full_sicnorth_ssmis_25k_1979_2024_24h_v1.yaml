full-sicnorth-ssmis-25k-1979-2024-24h-v1:
  name: full-sicnorth-ssmis-25k-1979-2024-24h-v1
  group_as: sic-ssmis
  description: Sea ice concentration from SMMR/SSMI/SSMIS for northern hemisphere
  attribution: EUMETSAT/OSISAF
  licence: CC-BY-4.0

  dates:
    start: '1979-01-01T12:00:00'
    end: '2024-12-31T12:00:00'
    frequency: 24h
    missing:
    - '1979-01-01T12:00:00'
    - '1979-05-21T12:00:00'
    - '1979-05-22T12:00:00'
    - '1979-05-23T12:00:00'
    - '1979-05-24T12:00:00'
    - '1979-05-25T12:00:00'
    - '1979-05-26T12:00:00'
    - '1979-05-27T12:00:00'
    - '1979-05-28T12:00:00'
    - '1979-05-29T12:00:00'
    - '1979-05-30T12:00:00'
    - '1979-05-31T12:00:00'
    - '1979-06-01T12:00:00'
    - '1979-06-02T12:00:00'
    - '1979-06-03T12:00:00'
    - '1979-06-04T12:00:00'
    - '1979-06-10T12:00:00'
    - '1979-06-11T12:00:00'
    - '1979-06-12T12:00:00'
    - '1979-06-13T12:00:00'
    - '1979-06-14T12:00:00'
    - '1979-06-15T12:00:00'
    - '1979-06-16T12:00:00'
    - '1979-06-17T12:00:00'
    - '1979-06-18T12:00:00'
    - '1979-06-19T12:00:00'
    - '1979-06-20T12:00:00'
    - '1979-06-21T12:00:00'
    - '1979-06-22T12:00:00'
    - '1979-06-23T12:00:00'
    - '1979-06-24T12:00:00'
    - '1979-06-25T12:00:00'
    - '1979-06-26T12:00:00'
    - '1979-07-01T12:00:00'
    - '1979-07-24T12:00:00'
    - '1979-07-25T12:00:00'
    - '1979-07-26T12:00:00'
    - '1979-07-27T12:00:00'
    - '1979-07-28T12:00:00'
    - '1979-12-31T12:00:00'
    - '1980-01-04T12:00:00'
    - '1980-01-05T12:00:00'
    - '1980-01-06T12:00:00'
    - '1980-01-07T12:00:00'
    - '1980-01-08T12:00:00'
    - '1980-01-09T12:00:00'
    - '1980-01-10T12:00:00'
    - '1980-02-27T12:00:00'
    - '1980-02-28T12:00:00'
    - '1980-02-29T12:00:00'
    - '1980-03-01T12:00:00'
    - '1980-03-02T12:00:00'
    - '1980-03-03T12:00:00'
    - '1980-03-04T12:00:00'
    - '1980-03-16T12:00:00'
    - '1980-03-17T12:00:00'
    - '1980-03-18T12:00:00'
    - '1980-03-19T12:00:00'
    - '1980-03-20T12:00:00'
    - '1980-03-21T12:00:00'
    - '1980-03-22T12:00:00'
    - '1980-04-09T12:00:00'
    - '1980-04-10T12:00:00'
    - '1980-04-11T12:00:00'
    - '1980-04-12T12:00:00'
    - '1980-04-13T12:00:00'
    - '1980-04-14T12:00:00'
    - '1980-04-15T12:00:00'
    - '1980-12-31T12:00:00'
    - '1981-02-27T12:00:00'
    - '1981-02-28T12:00:00'
    - '1981-03-01T12:00:00'
    - '1981-03-02T12:00:00'
    - '1981-03-03T12:00:00'
    - '1981-03-04T12:00:00'
    - '1981-03-05T12:00:00'
    - '1982-01-01T12:00:00'
    - '1982-12-31T12:00:00'
    - '1984-01-01T12:00:00'
    - '1984-08-12T12:00:00'
    - '1984-08-13T12:00:00'
    - '1984-08-14T12:00:00'
    - '1984-08-15T12:00:00'
    - '1984-08-16T12:00:00'
    - '1984-08-17T12:00:00'
    - '1984-08-18T12:00:00'
    - '1984-08-19T12:00:00'
    - '1984-08-20T12:00:00'
    - '1984-08-21T12:00:00'
    - '1984-08-22T12:00:00'
    - '1984-08-23T12:00:00'
    - '1984-08-24T12:00:00'
    - '1984-09-14T12:00:00'
    - '1985-01-01T12:00:00'
    - '1985-09-22T12:00:00'
    - '1985-09-23T12:00:00'
    - '1985-09-24T12:00:00'
    - '1985-09-25T12:00:00'
    - '1985-09-26T12:00:00'
    - '1985-09-27T12:00:00'
    - '1985-09-28T12:00:00'
    - '1985-12-31T12:00:00'
    - '1986-03-29T12:00:00'
    - '1986-03-30T12:00:00'
    - '1986-03-31T12:00:00'
    - '1986-04-01T12:00:00'
    - '1986-04-02T12:00:00'
    - '1986-04-03T12:00:00'
    - '1986-04-04T12:00:00'
    - '1986-04-05T12:00:00'
    - '1986-04-06T12:00:00'
    - '1986-04-07T12:00:00'
    - '1986-04-08T12:00:00'
    - '1986-04-09T12:00:00'
    - '1986-04-10T12:00:00'
    - '1986-04-11T12:00:00'
    - '1986-04-12T12:00:00'
    - '1986-04-13T12:00:00'
    - '1986-04-14T12:00:00'
    - '1986-04-15T12:00:00'
    - '1986-04-16T12:00:00'
    - '1986-04-17T12:00:00'
    - '1986-04-18T12:00:00'
    - '1986-04-19T12:00:00'
    - '1986-04-20T12:00:00'
    - '1986-04-21T12:00:00'
    - '1986-04-22T12:00:00'
    - '1986-04-23T12:00:00'
    - '1986-04-24T12:00:00'
    - '1986-04-25T12:00:00'
    - '1986-04-26T12:00:00'
    - '1986-04-27T12:00:00'
    - '1986-04-28T12:00:00'
    - '1986-04-29T12:00:00'
    - '1986-04-30T12:00:00'
    - '1986-05-01T12:00:00'
    - '1986-05-02T12:00:00'
    - '1986-05-03T12:00:00'
    - '1986-05-04T12:00:00'
    - '1986-05-05T12:00:00'
    - '1986-05-06T12:00:00'
    - '1986-05-07T12:00:00'
    - '1986-05-08T12:00:00'
    - '1986-05-09T12:00:00'
    - '1986-05-10T12:00:00'
    - '1986-05-11T12:00:00'
    - '1986-05-12T12:00:00'
    - '1986-05-13T12:00:00'
    - '1986-05-14T12:00:00'
    - '1986-05-15T12:00:00'
    - '1986-05-16T12:00:00'
    - '1986-05-17T12:00:00'
    - '1986-05-18T12:00:00'
    - '1986-05-19T12:00:00'
    - '1986-05-20T12:00:00'
    - '1986-05-21T12:00:00'
    - '1986-05-22T12:00:00'
    - '1986-05-23T12:00:00'
    - '1986-05-24T12:00:00'
    - '1986-05-25T12:00:00'
    - '1986-05-26T12:00:00'
    - '1986-05-27T12:00:00'
    - '1986-05-28T12:00:00'
    - '1986-05-29T12:00:00'
    - '1986-05-30T12:00:00'
    - '1986-05-31T12:00:00'
    - '1986-06-01T12:00:00'
    - '1986-06-02T12:00:00'
    - '1986-06-03T12:00:00'
    - '1986-06-04T12:00:00'
    - '1986-06-05T12:00:00'
    - '1986-06-06T12:00:00'
    - '1986-06-07T12:00:00'
    - '1986-06-08T12:00:00'
    - '1986-06-09T12:00:00'
    - '1986-06-10T12:00:00'
    - '1986-06-11T12:00:00'
    - '1986-06-12T12:00:00'
    - '1986-06-13T12:00:00'
    - '1986-06-14T12:00:00'
    - '1986-06-15T12:00:00'
    - '1986-06-16T12:00:00'
    - '1986-06-17T12:00:00'
    - '1986-06-18T12:00:00'
    - '1986-06-19T12:00:00'
    - '1986-06-20T12:00:00'
    - '1986-06-21T12:00:00'
    - '1986-06-22T12:00:00'
    - '1986-06-23T12:00:00'
    - '1986-06-24T12:00:00'
    - '1986-06-25T12:00:00'
    - '1986-06-26T12:00:00'
    - '1986-06-27T12:00:00'
    - '1986-06-28T12:00:00'
    - '1986-06-29T12:00:00'
    - '1986-06-30T12:00:00'
    - '1986-07-01T12:00:00'
    - '1987-01-01T12:00:00'
    - '1987-01-03T12:00:00'
    - '1987-01-04T12:00:00'
    - '1987-01-05T12:00:00'
    - '1987-01-06T12:00:00'
    - '1987-01-07T12:00:00'
    - '1987-01-08T12:00:00'
    - '1987-01-09T12:00:00'
    - '1987-01-10T12:00:00'
    - '1987-01-11T12:00:00'
    - '1987-01-12T12:00:00'
    - '1987-01-13T12:00:00'
    - '1987-01-14T12:00:00'
    - '1987-01-15T12:00:00'
    - '1987-01-16T12:00:00'
    - '1987-01-17T12:00:00'
    - '1987-01-18T12:00:00'
    - '1987-01-19T12:00:00'
    - '1987-01-29T12:00:00'
    - '1987-01-30T12:00:00'
    - '1987-01-31T12:00:00'
    - '1987-02-01T12:00:00'
    - '1987-02-02T12:00:00'
    - '1987-02-23T12:00:00'
    - '1987-02-26T12:00:00'
    - '1987-02-27T12:00:00'
    - '1987-02-28T12:00:00'
    - '1987-03-01T12:00:00'
    - '1987-03-02T12:00:00'
    - '1987-03-13T12:00:00'
    - '1987-03-22T12:00:00'
    - '1987-03-23T12:00:00'
    - '1987-03-24T12:00:00'
    - '1987-03-25T12:00:00'
    - '1987-03-26T12:00:00'
    - '1987-04-03T12:00:00'
    - '1987-04-04T12:00:00'
    - '1987-04-05T12:00:00'
    - '1987-04-06T12:00:00'
    - '1987-04-07T12:00:00'
    - '1987-04-08T12:00:00'
    - '1987-04-09T12:00:00'
    - '1987-04-10T12:00:00'
    - '1987-04-11T12:00:00'
    - '1987-04-12T12:00:00'
    - '1987-04-13T12:00:00'
    - '1987-04-14T12:00:00'
    - '1987-04-15T12:00:00'
    - '1987-04-16T12:00:00'
    - '1987-04-17T12:00:00'
    - '1987-12-01T12:00:00'
    - '1987-12-02T12:00:00'
    - '1987-12-03T12:00:00'
    - '1987-12-04T12:00:00'
    - '1987-12-05T12:00:00'
    - '1987-12-06T12:00:00'
    - '1987-12-07T12:00:00'
    - '1987-12-08T12:00:00'
    - '1987-12-09T12:00:00'
    - '1987-12-10T12:00:00'
    - '1987-12-11T12:00:00'
    - '1987-12-12T12:00:00'
    - '1987-12-13T12:00:00'
    - '1987-12-14T12:00:00'
    - '1987-12-15T12:00:00'
    - '1987-12-16T12:00:00'
    - '1987-12-17T12:00:00'
    - '1987-12-18T12:00:00'
    - '1987-12-19T12:00:00'
    - '1987-12-20T12:00:00'
    - '1987-12-21T12:00:00'
    - '1987-12-22T12:00:00'
    - '1987-12-23T12:00:00'
    - '1987-12-24T12:00:00'
    - '1987-12-25T12:00:00'
    - '1987-12-26T12:00:00'
    - '1987-12-27T12:00:00'
    - '1987-12-28T12:00:00'
    - '1987-12-29T12:00:00'
    - '1987-12-30T12:00:00'
    - '1987-12-31T12:00:00'
    - '1988-01-01T12:00:00'
    - '1988-01-02T12:00:00'
    - '1988-01-03T12:00:00'
    - '1988-01-04T12:00:00'
    - '1988-01-05T12:00:00'
    - '1988-01-06T12:00:00'
    - '1988-01-07T12:00:00'
    - '1988-01-08T12:00:00'
    - '1988-01-09T12:00:00'
    - '1988-01-10T12:00:00'
    - '1988-01-11T12:00:00'
    - '1988-01-12T12:00:00'
    - '1989-01-03T12:00:00'
    - '1990-01-26T12:00:00'
    - '1990-12-21T12:00:00'
    - '1990-12-22T12:00:00'
    - '1990-12-23T12:00:00'
    - '1990-12-24T12:00:00'
    - '1990-12-25T12:00:00'
    - '1990-12-26T12:00:00'
    - '2022-11-09T12:00:00'

  input:
    pipe:
      - concat:
        # OSI-450-a1 (1978-2020)
        # https://osi-saf.eumetsat.int/products/osi-450-a1
        - dates:
            start: '1978-10-25T12:00:00'
            end: '2020-12-31T12:00:00'
            frequency: 24h
          ftp:
            url: ftp://osisaf.met.no/reprocessed/ice/conc/v3p1/{date:strftime(%Y)}/{date:strftime(%m)}/ice_conc_nh_ease2-250_cdr-v3p1_{date:strftime(%Y%m%d)}1200.nc

        # OSI-430-a (2021-2025)
        # https://osi-saf.eumetsat.int/products/osi-430-a
        - dates:
            start: '2021-01-01T12:00:00'
            end: '2025-10-16T12:00:00'
            frequency: 24h
          ftp:
            url: ftp://osisaf.met.no/reprocessed/ice/conc-cont-reproc/v3p0/{date:strftime(%Y)}/{date:strftime(%m)}/ice_conc_nh_ease2-250_icdr-v3p0_{date:strftime(%Y%m%d)}1200.nc

      # Rescale concentration variables and uncertainties from percent to fraction
      - rescale:
          scale: 0.01
          offset: 0.0
          param: algorithm_standard_uncertainty
      - rescale:
          scale: 0.01
          offset: 0.0
          param: ice_conc
      - rescale:
          scale: 0.01
          offset: 0.0
          param: raw_ice_conc_values
      - rescale:
          scale: 0.01
          offset: 0.0
          param: smearing_standard_uncertainty
      - rescale:
          scale: 0.01
          offset: 0.0
          param: total_standard_uncertainty

      # Replace NaNs with 0 for concentration variables and 99 for uncertainty variables
      - nan_to_num:
          variables: [ice_conc, raw_ice_conc_values]
          replace_with: 0.0
      - nan_to_num:
          variables: [algorithm_standard_uncertainty, smearing_standard_uncertainty, total_standard_uncertainty]
          replace_with: 99
